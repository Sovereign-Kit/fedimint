<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `UserClient` type in crate `fedimint_client_legacy`."><title>UserClient in fedimint_client_legacy - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-47e7ab555ef2818a.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="fedimint_client_legacy" data-themes="" data-resource-suffix="" data-rustdoc-version="1.74.0-nightly (030e4d382 2023-09-10)" data-channel="nightly" data-search-js="search-5d3eaacf19ebf04f.js" data-settings-js="settings-74424d7eec62a23e.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-f194925aa375ae96.css" data-theme-dark-css="dark-1dd4d1ce031e15de.css" data-theme-ayu-css="ayu-49e58d069f567085.css" ><script src="../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-8d035c8cea6edbc4.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-f194925aa375ae96.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1dd4d1ce031e15de.css"><link rel="stylesheet" href="../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc type"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../fedimint_client_legacy/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../fedimint_client_legacy/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">UserClient</a></h2><div class="sidebar-elems"><section><h3><a href="#fields">Fields</a></h3><ul class="block"><li><a href="#structfield.concurrency_lock">concurrency_lock</a></li><li><a href="#structfield.config">config</a></li><li><a href="#structfield.context">context</a></li><li><a href="#structfield.root_secret">root_secret</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block"><li><a href="#method.await_consensus_block_count">await_consensus_block_count</a></li><li><a href="#method.await_consensus_block_count_inner">await_consensus_block_count_inner</a></li><li><a href="#method.await_invoice_confirmation">await_invoice_confirmation</a></li><li><a href="#method.await_outgoing_contract_acceptance">await_outgoing_contract_acceptance</a></li><li><a href="#method.await_outgoing_contract_execution">await_outgoing_contract_execution</a></li><li><a href="#method.await_outpoint_outcome">await_outpoint_outcome</a></li><li><a href="#method.claim_incoming_contract">claim_incoming_contract</a></li><li><a href="#method.concurrency_lock">concurrency_lock</a></li><li><a href="#method.config">config</a></li><li><a href="#method.config_ref">config_ref</a></li><li><a href="#method.context">context</a></li><li><a href="#method.db">db</a></li><li><a href="#method.decoders">decoders</a></li><li><a href="#method.fetch_active_gateway">fetch_active_gateway</a></li><li><a href="#method.fetch_all_notes">fetch_all_notes</a></li><li><a href="#method.fetch_epoch_history">fetch_epoch_history</a></li><li><a href="#method.fetch_notes">fetch_notes</a></li><li><a href="#method.fetch_registered_gateways">fetch_registered_gateways</a></li><li><a href="#method.fund_outgoing_ln_contract">fund_outgoing_ln_contract</a></li><li><a href="#method.generate_confirmed_invoice">generate_confirmed_invoice</a></li><li><a href="#method.generate_unconfirmed_invoice">generate_unconfirmed_invoice</a></li><li><a href="#method.generate_unconfirmed_invoice_and_submit">generate_unconfirmed_invoice_and_submit</a></li><li><a href="#method.get_new_pegin_address">get_new_pegin_address</a></li><li><a href="#method.get_secret">get_secret</a></li><li><a href="#method.list_active_issuances">list_active_issuances</a></li><li><a href="#method.ln_client">ln_client</a></li><li><a href="#method.mint_client">mint_client</a></li><li><a href="#method.mint_secret_static">mint_secret_static</a></li><li><a href="#method.module_inits">module_inits</a></li><li><a href="#method.new">new</a></li><li><a href="#method.new_peg_out_with_fees">new_peg_out_with_fees</a></li><li><a href="#method.new_with_api">new_with_api</a></li><li><a href="#method.notes">notes</a></li><li><a href="#method.pay_to_blind_nonces">pay_to_blind_nonces</a></li><li><a href="#method.peg_in">peg_in</a></li><li><a href="#method.peg_out">peg_out</a></li><li><a href="#method.rbf_tx">rbf_tx</a></li><li><a href="#method.receive_notes">receive_notes</a></li><li><a href="#method.reissue">reissue</a></li><li><a href="#method.reissue_pending_notes">reissue_pending_notes</a></li><li><a href="#method.remint_ecash">remint_ecash</a></li><li><a href="#method.remint_ecash_await">remint_ecash_await</a></li><li><a href="#method.remove_ecash">remove_ecash</a></li><li><a href="#method.root_secret">root_secret</a></li><li><a href="#method.spend_ecash">spend_ecash</a></li><li><a href="#method.submit_tx_with_change">submit_tx_with_change</a></li><li><a href="#method.summary">summary</a></li><li><a href="#method.switch_active_gateway">switch_active_gateway</a></li><li><a href="#method.try_refund_outgoing_contract">try_refund_outgoing_contract</a></li><li><a href="#method.validate_note_signatures">validate_note_signatures</a></li><li><a href="#method.wallet_client">wallet_client</a></li></ul></section><h2><a href="index.html">In fedimint_client_legacy</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Type Alias <a href="index.html">fedimint_client_legacy</a>::<wbr><a class="type" href="#">UserClient</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../src/fedimint_client_legacy/lib.rs.html#113">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub type UserClient = <a class="struct" href="struct.Client.html" title="struct fedimint_client_legacy::Client">Client</a>&lt;<a class="struct" href="struct.UserClientConfig.html" title="struct fedimint_client_legacy::UserClientConfig">UserClientConfig</a>&gt;;</code></pre><h2 id="aliased-type" class="small-section-header">Aliased Type<a href="#aliased-type" class="anchor">§</a></h2><pre class="rust item-decl"><code>struct UserClient {
    pub(crate) concurrency_lock: Mutex&lt;<a class="struct" href="struct.ConcurrencyLock.html" title="struct fedimint_client_legacy::ConcurrencyLock">ConcurrencyLock</a>&gt;,
    pub(crate) config: <a class="struct" href="struct.UserClientConfig.html" title="struct fedimint_client_legacy::UserClientConfig">UserClientConfig</a>,
    pub(crate) context: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="utils/struct.ClientContext.html" title="struct fedimint_client_legacy::utils::ClientContext">ClientContext</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;,
    pub(crate) root_secret: DerivableSecret,
}</code></pre><h2 id="fields" class="fields small-section-header">Fields<a href="#fields" class="anchor">§</a></h2><span id="structfield.concurrency_lock" class="structfield small-section-header"><a href="#structfield.concurrency_lock" class="anchor field">§</a><code>concurrency_lock: Mutex&lt;<a class="struct" href="struct.ConcurrencyLock.html" title="struct fedimint_client_legacy::ConcurrencyLock">ConcurrencyLock</a>&gt;</code></span><span id="structfield.config" class="structfield small-section-header"><a href="#structfield.config" class="anchor field">§</a><code>config: <a class="struct" href="struct.UserClientConfig.html" title="struct fedimint_client_legacy::UserClientConfig">UserClientConfig</a></code></span><span id="structfield.context" class="structfield small-section-header"><a href="#structfield.context" class="anchor field">§</a><code>context: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="utils/struct.ClientContext.html" title="struct fedimint_client_legacy::utils::ClientContext">ClientContext</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;</code></span><span id="structfield.root_secret" class="structfield small-section-header"><a href="#structfield.root_secret" class="anchor field">§</a><code>root_secret: DerivableSecret</code></span><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Client%3CC%3E" class="impl"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#178-198">source</a><a href="#impl-Client%3CC%3E" class="anchor">§</a><h3 class="code-header">impl&lt;C&gt; <a class="struct" href="struct.Client.html" title="struct fedimint_client_legacy::Client">Client</a>&lt;C&gt;</h3></section></summary><div class="impl-items"><section id="method.concurrency_lock" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#179-181">source</a><h4 class="code-header">pub async fn <a href="#method.concurrency_lock" class="fn">concurrency_lock</a>(&amp;self) -&gt; MutexGuard&lt;'_, <a class="struct" href="struct.ConcurrencyLock.html" title="struct fedimint_client_legacy::ConcurrencyLock">ConcurrencyLock</a>&gt;</h4></section><section id="method.decoders" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#183-185">source</a><h4 class="code-header">pub fn <a href="#method.decoders" class="fn">decoders</a>(&amp;self) -&gt; &amp;<a class="type" href="../fedimint_core/module/registry/type.ModuleDecoderRegistry.html" title="type fedimint_core::module::registry::ModuleDecoderRegistry">ModuleDecoderRegistry</a></h4></section><section id="method.module_inits" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#187-189">source</a><h4 class="code-header">pub fn <a href="#method.module_inits" class="fn">module_inits</a>(&amp;self) -&gt; &amp;ClientModuleInitRegistry</h4></section><section id="method.context" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#191-193">source</a><h4 class="code-header">pub fn <a href="#method.context" class="fn">context</a>(&amp;self) -&gt; &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="utils/struct.ClientContext.html" title="struct fedimint_client_legacy::utils::ClientContext">ClientContext</a>&gt;</h4></section><section id="method.root_secret" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#195-197">source</a><h4 class="code-header">pub fn <a href="#method.root_secret" class="fn">root_secret</a>(&amp;self) -&gt; &amp;DerivableSecret</h4></section></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Client%3CT%3E" class="impl"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#232-236">source</a><a href="#impl-Client%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="struct" href="struct.Client.html" title="struct fedimint_client_legacy::Client">Client</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><section id="method.mint_secret_static" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#233-235">source</a><h4 class="code-header">pub fn <a href="#method.mint_secret_static" class="fn">mint_secret_static</a>(root_secret: &amp;DerivableSecret) -&gt; DerivableSecret</h4></section></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Client%3CT%3E-1" class="impl"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#240-796">source</a><a href="#impl-Client%3CT%3E-1" class="anchor">§</a><h3 class="code-header">impl&lt;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.AsRef.html" title="trait core::convert::AsRef">AsRef</a>&lt;<a class="struct" href="../fedimint_core/config/struct.ClientConfig.html" title="struct fedimint_core::config::ClientConfig">ClientConfig</a>&gt; + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="../fedimint_core/task/trait.MaybeSend.html" title="trait fedimint_core::task::MaybeSend">MaybeSend</a>&gt; <a class="struct" href="struct.Client.html" title="struct fedimint_client_legacy::Client">Client</a>&lt;T&gt;</h3></section></summary><div class="impl-items"><section id="method.db" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#241-243">source</a><h4 class="code-header">pub fn <a href="#method.db" class="fn">db</a>(&amp;self) -&gt; &amp;<a class="struct" href="../fedimint_core/db/struct.Database.html" title="struct fedimint_core::db::Database">Database</a></h4></section><section id="method.ln_client" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#245-256">source</a><h4 class="code-header">pub fn <a href="#method.ln_client" class="fn">ln_client</a>(&amp;self) -&gt; <a class="struct" href="ln/struct.LnClient.html" title="struct fedimint_client_legacy::ln::LnClient">LnClient</a></h4></section><section id="method.mint_client" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#258-271">source</a><h4 class="code-header">pub fn <a href="#method.mint_client" class="fn">mint_client</a>(&amp;self) -&gt; <a class="struct" href="mint/struct.MintClient.html" title="struct fedimint_client_legacy::mint::MintClient">MintClient</a></h4></section><section id="method.wallet_client" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#273-285">source</a><h4 class="code-header">pub fn <a href="#method.wallet_client" class="fn">wallet_client</a>(&amp;self) -&gt; <a class="struct" href="wallet/struct.WalletClient.html" title="struct fedimint_client_legacy::wallet::WalletClient">WalletClient</a></h4></section><section id="method.config" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#287-289">source</a><h4 class="code-header">pub fn <a href="#method.config" class="fn">config</a>(&amp;self) -&gt; T</h4></section><section id="method.config_ref" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#291-293">source</a><h4 class="code-header">pub fn <a href="#method.config_ref" class="fn">config_ref</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;T</a></h4></section><section id="method.new" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#295-304">source</a><h4 class="code-header">pub async fn <a href="#method.new" class="fn">new</a>(
    config: T,
    decoders: <a class="type" href="../fedimint_core/module/registry/type.ModuleDecoderRegistry.html" title="type fedimint_core::module::registry::ModuleDecoderRegistry">ModuleDecoderRegistry</a>,
    module_inits: ClientModuleInitRegistry,
    db: <a class="struct" href="../fedimint_core/db/struct.Database.html" title="struct fedimint_core::db::Database">Database</a>,
    secp: Secp256k1&lt;All&gt;
) -&gt; Self</h4></section><section id="method.new_with_api" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#306-327">source</a><h4 class="code-header">pub async fn <a href="#method.new_with_api" class="fn">new_with_api</a>(
    config: T,
    decoders: <a class="type" href="../fedimint_core/module/registry/type.ModuleDecoderRegistry.html" title="type fedimint_core::module::registry::ModuleDecoderRegistry">ModuleDecoderRegistry</a>,
    module_inits: ClientModuleInitRegistry,
    db: <a class="struct" href="../fedimint_core/db/struct.Database.html" title="struct fedimint_core::db::Database">Database</a>,
    api: <a class="struct" href="../fedimint_core/api/struct.DynGlobalApi.html" title="struct fedimint_core::api::DynGlobalApi">DynGlobalApi</a>,
    secp: Secp256k1&lt;All&gt;
) -&gt; <a class="struct" href="struct.Client.html" title="struct fedimint_client_legacy::Client">Client</a>&lt;T&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.get_secret" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#331-347">source</a><h4 class="code-header">pub(crate) async fn <a href="#method.get_secret" class="fn">get_secret</a>(db: &amp;<a class="struct" href="../fedimint_core/db/struct.Database.html" title="struct fedimint_core::db::Database">Database</a>) -&gt; DerivableSecret</h4></section></summary><div class="docblock"><p>Fetches the client secret from the database or generates a new one if
none is present</p>
</div></details><section id="method.peg_in" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#349-369">source</a><h4 class="code-header">pub async fn <a href="#method.peg_in" class="fn">peg_in</a>&lt;R: <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.RngCore.html" title="trait rand_core::RngCore">RngCore</a> + <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.CryptoRng.html" title="trait rand_core::CryptoRng">CryptoRng</a>&gt;(
    &amp;self,
    txout_proof: <a class="struct" href="../fedimint_core/txoproof/struct.TxOutProof.html" title="struct fedimint_core::txoproof::TxOutProof">TxOutProof</a>,
    btc_transaction: BitcoinTransaction,
    rng: R
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="struct" href="../fedimint_core/struct.TransactionId.html" title="struct fedimint_core::TransactionId">TransactionId</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.submit_tx_with_change" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#376-395">source</a><h4 class="code-header">pub async fn <a href="#method.submit_tx_with_change" class="fn">submit_tx_with_change</a>&lt;R: <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.RngCore.html" title="trait rand_core::RngCore">RngCore</a> + <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.CryptoRng.html" title="trait rand_core::CryptoRng">CryptoRng</a>&gt;(
    &amp;self,
    guard: MutexGuard&lt;'_, <a class="struct" href="struct.ConcurrencyLock.html" title="struct fedimint_client_legacy::ConcurrencyLock">ConcurrencyLock</a>&gt;,
    tx: <a class="struct" href="transaction/struct.TransactionBuilder.html" title="struct fedimint_client_legacy::transaction::TransactionBuilder">TransactionBuilder</a>,
    rng: R
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="struct" href="../fedimint_core/struct.TransactionId.html" title="struct fedimint_core::TransactionId">TransactionId</a>&gt;</h4></section></summary><div class="docblock"><p>Submits a transaction to the fed, making change using our change module</p>
<p>TODO: For safety, if the submission fails, the DB write still occurs.
We should instead ensure the state of the client and consensus are
always the same.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.reissue" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#407-431">source</a><h4 class="code-header">pub async fn <a href="#method.reissue" class="fn">reissue</a>&lt;R: <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.RngCore.html" title="trait rand_core::RngCore">RngCore</a> + <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.CryptoRng.html" title="trait rand_core::CryptoRng">CryptoRng</a>&gt;(
    &amp;self,
    notes: <a class="struct" href="../fedimint_core/tiered_multi/struct.TieredMulti.html" title="struct fedimint_core::tiered_multi::TieredMulti">TieredMulti</a>&lt;<a class="struct" href="mint/struct.SpendableNote.html" title="struct fedimint_client_legacy::mint::SpendableNote">SpendableNote</a>&gt;,
    rng: R
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>&gt;</h4></section></summary><div class="docblock"><p>Spent some <a href="mint/struct.SpendableNote.html" title="struct fedimint_client_legacy::mint::SpendableNote"><code>SpendableNote</code></a>s to receive a freshly minted ones</p>
<p>This is useful in scenarios where certain notes were handed over
directly to us by another user as a payment. By spending them we can
make sure they can no longer be potentially double-spent.</p>
<p>On success the out point of the newly issued e-cash notes is returned.
It can be used to easily poll the transaction status using
<a href="mint/struct.MintClient.html#method.fetch_notes" title="method fedimint_client_legacy::mint::MintClient::fetch_notes"><code>MintClient::fetch_notes</code></a> until it returns <code>Ok(())</code>, indicating we
received our newly issued e-cash notes.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.validate_note_signatures" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#438-447">source</a><h4 class="code-header">pub async fn <a href="#method.validate_note_signatures" class="fn">validate_note_signatures</a>(
    &amp;self,
    notes: &amp;<a class="struct" href="../fedimint_core/tiered_multi/struct.TieredMulti.html" title="struct fedimint_core::tiered_multi::TieredMulti">TieredMulti</a>&lt;<a class="struct" href="mint/struct.SpendableNote.html" title="struct fedimint_client_legacy::mint::SpendableNote">SpendableNote</a>&gt;
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Validate signatures on notes.</p>
<p>This function checks if signatures are valid
based on the federation public key. It does not check if the nonce is
unspent.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.pay_to_blind_nonces" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#462-480">source</a><h4 class="code-header">pub async fn <a href="#method.pay_to_blind_nonces" class="fn">pay_to_blind_nonces</a>&lt;R: <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.RngCore.html" title="trait rand_core::RngCore">RngCore</a> + <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.CryptoRng.html" title="trait rand_core::CryptoRng">CryptoRng</a>&gt;(
    &amp;self,
    blind_nonces: <a class="struct" href="../fedimint_core/tiered_multi/struct.TieredMulti.html" title="struct fedimint_core::tiered_multi::TieredMulti">TieredMulti</a>&lt;BlindNonce&gt;,
    rng: R
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>&gt;</h4></section></summary><div class="docblock"><p>Pay by creating notes provided (and most probably controlled) by the
recipient.</p>
<p>A standard way to facilitate a payment between users of a mint.
Generate a transaction spending notes we own as inputs and
creating new notes from [<code>BlindNonce</code>]s provided by the recipient as
outputs.</p>
<p>Returns a <code>OutPoint</code> of a fedimint transaction created and submitted as
a payment.</p>
<p>The name is derived from Bitcoin’s terminology of “pay to
<code>&lt;address-type&gt;</code>”.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.receive_notes" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#489-494">source</a><h4 class="code-header">pub async fn <a href="#method.receive_notes" class="fn">receive_notes</a>(
    &amp;self,
    amount: <a class="struct" href="../fedimint_core/struct.Amount.html" title="struct fedimint_core::Amount">Amount</a>
) -&gt; (<a class="struct" href="../fedimint_core/tiered_multi/struct.TieredMulti.html" title="struct fedimint_core::tiered_multi::TieredMulti">TieredMulti</a>&lt;BlindNonce&gt;, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn">Fn</a>(<a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>)&gt;)</h4></section></summary><div class="docblock"><p>Receive e-cash directly from another user when online (vs. offline
transfer)</p>
<p>Generates notes that another user will pay for and let us know the
OutPoint in <code>create_tx</code> Payer can use the <code>pay_to_blind_nonces</code>
function Allows transfer of e-cash without risk of double-spend or
not having exact change</p>
</div></details><section id="method.new_peg_out_with_fees" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#496-512">source</a><h4 class="code-header">pub async fn <a href="#method.new_peg_out_with_fees" class="fn">new_peg_out_with_fees</a>(
    &amp;self,
    amount: Amount,
    recipient: Address
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;PegOut&gt;</h4></section><section id="method.rbf_tx" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#514-529">source</a><h4 class="code-header">pub async fn <a href="#method.rbf_tx" class="fn">rbf_tx</a>(&amp;self, rbf: Rbf) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>&gt;</h4></section><section id="method.peg_out" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#531-559">source</a><h4 class="code-header">pub async fn <a href="#method.peg_out" class="fn">peg_out</a>&lt;R: <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.RngCore.html" title="trait rand_core::RngCore">RngCore</a> + <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.CryptoRng.html" title="trait rand_core::CryptoRng">CryptoRng</a>&gt;(
    &amp;self,
    peg_out: PegOut,
    rng: R
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.get_new_pegin_address" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#571-579">source</a><h4 class="code-header">pub async fn <a href="#method.get_new_pegin_address" class="fn">get_new_pegin_address</a>&lt;R: <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.RngCore.html" title="trait rand_core::RngCore">RngCore</a> + <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.CryptoRng.html" title="trait rand_core::CryptoRng">CryptoRng</a>&gt;(
    &amp;self,
    rng: R
) -&gt; Address</h4></section></summary><div class="docblock"><p>Returns a bitcoin address suited to perform a fedimint
<a href="struct.Client.html#method.peg_in" title="method fedimint_client_legacy::Client::peg_in">peg-in</a></p>
<p>This function requires a cryptographically secure randomness source, and
utilizes the <a href="wallet/struct.WalletClient.html" title="struct fedimint_client_legacy::wallet::WalletClient">wallet-clients</a>
<a href="wallet/struct.WalletClient.html#method.get_new_pegin_address" title="method fedimint_client_legacy::wallet::WalletClient::get_new_pegin_address">get_new_pegin_address</a> to <strong>derive</strong> a bitcoin-address from the federations
public descriptor by tweaking it.</p>
<ul>
<li>this function will write to the clients DB</li>
</ul>
<p>read more on fedimints address derivation: <a href="https://fedimint.org/Fedimint/wallet/">https://fedimint.org/Fedimint/wallet/</a></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.spend_ecash" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#585-623">source</a><h4 class="code-header">pub async fn <a href="#method.spend_ecash" class="fn">spend_ecash</a>&lt;R: <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.RngCore.html" title="trait rand_core::RngCore">RngCore</a> + <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.CryptoRng.html" title="trait rand_core::CryptoRng">CryptoRng</a>&gt;(
    &amp;self,
    amount: <a class="struct" href="../fedimint_core/struct.Amount.html" title="struct fedimint_core::Amount">Amount</a>,
    rng: R
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="struct" href="../fedimint_core/tiered_multi/struct.TieredMulti.html" title="struct fedimint_core::tiered_multi::TieredMulti">TieredMulti</a>&lt;<a class="struct" href="mint/struct.SpendableNote.html" title="struct fedimint_client_legacy::mint::SpendableNote">SpendableNote</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Issues a spendable amount of ecash</p>
<p><strong>WARNING</strong> the ecash will be deleted from the database, the returned
ecash must be <code>reissued</code> or it will be lost</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.remove_ecash" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#626-637">source</a><h4 class="code-header">pub async fn <a href="#method.remove_ecash" class="fn">remove_ecash</a>(&amp;self, ecash: <a class="struct" href="../fedimint_core/tiered_multi/struct.TieredMulti.html" title="struct fedimint_core::tiered_multi::TieredMulti">TieredMulti</a>&lt;<a class="struct" href="mint/struct.SpendableNote.html" title="struct fedimint_client_legacy::mint::SpendableNote">SpendableNote</a>&gt;)</h4></section></summary><div class="docblock"><p>Removes spent ecash from the database</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.remint_ecash" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#648-659">source</a><h4 class="code-header">pub async fn <a href="#method.remint_ecash" class="fn">remint_ecash</a>&lt;R: <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.RngCore.html" title="trait rand_core::RngCore">RngCore</a> + <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.CryptoRng.html" title="trait rand_core::CryptoRng">CryptoRng</a>&gt;(
    &amp;self,
    amount: <a class="struct" href="../fedimint_core/struct.Amount.html" title="struct fedimint_core::Amount">Amount</a>,
    rng: R
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>For tests only: Select notes of a given amount, and then remint them,
remove the amount of notes from the database and return it to the user.</p>
<p>This is a respin of <code>spent_ecash</code> for tests, where it is necessary
to process epochs after <code>self.submit_tx_with_change</code>. Then
<code>remint_ecash_await</code> can be called to do the rest.</p>
<p>TODO: Like <code>spend_ecash</code>, I think this function works in tests mostly
by accident.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.remint_ecash_await" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#662-678">source</a><h4 class="code-header">pub async fn <a href="#method.remint_ecash_await" class="fn">remint_ecash_await</a>(
    &amp;self,
    amount: <a class="struct" href="../fedimint_core/struct.Amount.html" title="struct fedimint_core::Amount">Amount</a>
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="struct" href="../fedimint_core/tiered_multi/struct.TieredMulti.html" title="struct fedimint_core::tiered_multi::TieredMulti">TieredMulti</a>&lt;<a class="struct" href="mint/struct.SpendableNote.html" title="struct fedimint_client_legacy::mint::SpendableNote">SpendableNote</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Continuation of <code>remint_notes</code></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.fetch_notes" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#684-689">source</a><h4 class="code-header">pub async fn <a href="#method.fetch_notes" class="fn">fetch_notes</a>&lt;'a&gt;(&amp;self, outpoint: <a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Tries to fetch e-cash notes from a certain out point. An error may just
mean having queried the federation too early. Use
<a href="mint/enum.MintClientError.html#method.is_retryable" title="method fedimint_client_legacy::mint::MintClientError::is_retryable"><code>MintClientError::is_retryable</code></a> to determine if the operation
should be retried at a later time.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.reissue_pending_notes" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#693">source</a><h4 class="code-header">pub async fn <a href="#method.reissue_pending_notes" class="fn">reissue_pending_notes</a>&lt;R: <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.RngCore.html" title="trait rand_core::RngCore">RngCore</a> + <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.CryptoRng.html" title="trait rand_core::CryptoRng">CryptoRng</a>&gt;(
    &amp;self,
    rng: R
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>&gt;</h4></section></summary><div class="docblock"><p>Should be called after any transaction that might have failed in order
to get any note inputs back.</p>
</div></details><section id="method.await_consensus_block_count" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#732-740">source</a><h4 class="code-header">pub async fn <a href="#method.await_consensus_block_count" class="fn">await_consensus_block_count</a>(
    &amp;self,
    block_count: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>
) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>, <a class="struct" href="../fedimint_core/task/struct.Elapsed.html" title="struct fedimint_core::task::Elapsed">Elapsed</a>&gt;</h4></section><section id="method.await_consensus_block_count_inner" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#742-751">source</a><h4 class="code-header">pub(crate) async fn <a href="#method.await_consensus_block_count_inner" class="fn">await_consensus_block_count_inner</a>(
    &amp;self,
    requested_count: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>
) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a></h4></section><section id="method.fetch_all_notes" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#753-770">source</a><h4 class="code-header">pub async fn <a href="#method.fetch_all_notes" class="fn">fetch_all_notes</a>&lt;'a&gt;(&amp;self) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>&gt;&gt;</h4></section><section id="method.summary" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#772-774">source</a><h4 class="code-header">pub async fn <a href="#method.summary" class="fn">summary</a>(&amp;self) -&gt; <a class="struct" href="../fedimint_core/tiered_multi/struct.TieredSummary.html" title="struct fedimint_core::tiered_multi::TieredSummary">TieredSummary</a></h4></section><section id="method.notes" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#777-779">source</a><h4 class="code-header">pub async fn <a href="#method.notes" class="fn">notes</a>(&amp;self) -&gt; <a class="struct" href="../fedimint_core/tiered_multi/struct.TieredMulti.html" title="struct fedimint_core::tiered_multi::TieredMulti">TieredMulti</a>&lt;<a class="struct" href="mint/struct.SpendableNote.html" title="struct fedimint_client_legacy::mint::SpendableNote">SpendableNote</a>&gt;</h4></section><section id="method.list_active_issuances" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#781-783">source</a><h4 class="code-header">pub async fn <a href="#method.list_active_issuances" class="fn">list_active_issuances</a>(
    &amp;self
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;(<a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>, <a class="struct" href="mint/struct.NoteIssuanceRequests.html" title="struct fedimint_client_legacy::mint::NoteIssuanceRequests">NoteIssuanceRequests</a>)&gt;</h4></section><section id="method.fetch_epoch_history" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#785-795">source</a><h4 class="code-header">pub async fn <a href="#method.fetch_epoch_history" class="fn">fetch_epoch_history</a>(
    &amp;self,
    epoch: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>,
    epoch_pk: PublicKey
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="struct" href="../fedimint_core/epoch/struct.SignedEpochOutcome.html" title="struct fedimint_core::epoch::SignedEpochOutcome">SignedEpochOutcome</a>&gt;</h4></section></div></details><details class="toggle implementors-toggle" open><summary><section id="impl-Client%3CUserClientConfig%3E" class="impl"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#798-1205">source</a><a href="#impl-Client%3CUserClientConfig%3E" class="anchor">§</a><h3 class="code-header">impl <a class="struct" href="struct.Client.html" title="struct fedimint_client_legacy::Client">Client</a>&lt;<a class="struct" href="struct.UserClientConfig.html" title="struct fedimint_client_legacy::UserClientConfig">UserClientConfig</a>&gt;</h3></section></summary><div class="impl-items"><section id="method.fetch_registered_gateways" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#799-801">source</a><h4 class="code-header">pub async fn <a href="#method.fetch_registered_gateways" class="fn">fetch_registered_gateways</a>(&amp;self) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;LightningGateway&gt;&gt;</h4></section><section id="method.fetch_active_gateway" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#803-819">source</a><h4 class="code-header">pub async fn <a href="#method.fetch_active_gateway" class="fn">fetch_active_gateway</a>(&amp;self) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;LightningGateway&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.switch_active_gateway" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#825-856">source</a><h4 class="code-header">pub async fn <a href="#method.switch_active_gateway" class="fn">switch_active_gateway</a>(
    &amp;self,
    gateway_id: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;PublicKey&gt;
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;LightningGateway&gt;</h4></section></summary><div class="docblock"><p>Switches the clients active gateway to a registered gateway with the
given node pubkey. If no pubkey is given (node_pub_key == None) the
first available registered gateway is activated. This behavior is
useful for scenarios where we don’t know any registered gateways in
advance.</p>
</div></details><section id="method.fund_outgoing_ln_contract" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#858-903">source</a><h4 class="code-header">pub async fn <a href="#method.fund_outgoing_ln_contract" class="fn">fund_outgoing_ln_contract</a>&lt;R: <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.RngCore.html" title="trait rand_core::RngCore">RngCore</a> + <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.CryptoRng.html" title="trait rand_core::CryptoRng">CryptoRng</a>&gt;(
    &amp;self,
    invoice: Bolt11Invoice,
    rng: R
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;(ContractId, <a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>)&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.try_refund_outgoing_contract" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#910-939">source</a><h4 class="code-header">pub async fn <a href="#method.try_refund_outgoing_contract" class="fn">try_refund_outgoing_contract</a>(
    &amp;self,
    contract_id: ContractId,
    rng: impl <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.RngCore.html" title="trait rand_core::RngCore">RngCore</a> + <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.CryptoRng.html" title="trait rand_core::CryptoRng">CryptoRng</a>
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>&gt;</h4></section></summary><div class="docblock"><p>Claims a refund for an expired or cancelled outgoing contract</p>
<p>This can be necessary when the Lightning gateway cannot route the
payment, is malicious or offline. The function returns the out point
of the e-cash output generated as change.</p>
</div></details><section id="method.await_outgoing_contract_acceptance" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#941-951">source</a><h4 class="code-header">pub async fn <a href="#method.await_outgoing_contract_acceptance" class="fn">await_outgoing_contract_acceptance</a>(
    &amp;self,
    outpoint: <a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.await_outpoint_outcome" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#957-981">source</a><h4 class="code-header">pub async fn <a href="#method.await_outpoint_outcome" class="fn">await_outpoint_outcome</a>(&amp;self, outpoint: <a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Waits for the federation to sign an ecash note.</p>
<p>This function will poll until the returned result includes a SigResponse
from the federation or it will timeout.</p>
</div></details><section id="method.generate_confirmed_invoice" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#983-996">source</a><h4 class="code-header">pub async fn <a href="#method.generate_confirmed_invoice" class="fn">generate_confirmed_invoice</a>&lt;R: <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.RngCore.html" title="trait rand_core::RngCore">RngCore</a> + <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.CryptoRng.html" title="trait rand_core::CryptoRng">CryptoRng</a>&gt;(
    &amp;self,
    amount: <a class="struct" href="../fedimint_core/struct.Amount.html" title="struct fedimint_core::Amount">Amount</a>,
    description: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>,
    rng: R,
    expiry_time: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="struct" href="ln/incoming/struct.ConfirmedInvoice.html" title="struct fedimint_client_legacy::ln::incoming::ConfirmedInvoice">ConfirmedInvoice</a>&gt;</h4></section><section id="method.generate_unconfirmed_invoice_and_submit" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#997-1022">source</a><h4 class="code-header">pub async fn <a href="#method.generate_unconfirmed_invoice_and_submit" class="fn">generate_unconfirmed_invoice_and_submit</a>&lt;R: <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.RngCore.html" title="trait rand_core::RngCore">RngCore</a> + <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.CryptoRng.html" title="trait rand_core::CryptoRng">CryptoRng</a>&gt;(
    &amp;self,
    amount: <a class="struct" href="../fedimint_core/struct.Amount.html" title="struct fedimint_core::Amount">Amount</a>,
    description: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>,
    rng: R,
    expiry_time: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;(<a class="struct" href="../fedimint_core/struct.TransactionId.html" title="struct fedimint_core::TransactionId">TransactionId</a>, Bolt11Invoice, KeyPair)&gt;</h4></section><section id="method.generate_unconfirmed_invoice" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#1024-1112">source</a><h4 class="code-header">pub async fn <a href="#method.generate_unconfirmed_invoice" class="fn">generate_unconfirmed_invoice</a>&lt;R: <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.RngCore.html" title="trait rand_core::RngCore">RngCore</a> + <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.CryptoRng.html" title="trait rand_core::CryptoRng">CryptoRng</a>&gt;(
    &amp;self,
    amount: <a class="struct" href="../fedimint_core/struct.Amount.html" title="struct fedimint_core::Amount">Amount</a>,
    description: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" title="struct alloc::string::String">String</a>,
    payment_keypair: KeyPair,
    rng: R,
    expiry_time: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;(Bolt11Invoice, <a class="enum" href="transaction/legacy/enum.Output.html" title="enum fedimint_client_legacy::transaction::legacy::Output">Output</a>)&gt;</h4></section><section id="method.await_invoice_confirmation" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#1114-1137">source</a><h4 class="code-header">pub async fn <a href="#method.await_invoice_confirmation" class="fn">await_invoice_confirmation</a>(
    &amp;self,
    txid: <a class="struct" href="../fedimint_core/struct.TransactionId.html" title="struct fedimint_core::TransactionId">TransactionId</a>,
    invoice: Bolt11Invoice,
    payment_keypair: KeyPair
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="struct" href="ln/incoming/struct.ConfirmedInvoice.html" title="struct fedimint_client_legacy::ln::incoming::ConfirmedInvoice">ConfirmedInvoice</a>&gt;</h4></section><section id="method.claim_incoming_contract" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#1139-1158">source</a><h4 class="code-header">pub async fn <a href="#method.claim_incoming_contract" class="fn">claim_incoming_contract</a>(
    &amp;self,
    contract_id: ContractId,
    rng: impl <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.RngCore.html" title="trait rand_core::RngCore">RngCore</a> + <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.CryptoRng.html" title="trait rand_core::CryptoRng">CryptoRng</a>
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="struct" href="../fedimint_core/struct.OutPoint.html" title="struct fedimint_core::OutPoint">OutPoint</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.await_outgoing_contract_execution" class="method"><a class="src rightside" href="../src/fedimint_client_legacy/lib.rs.html#1162-1204">source</a><h4 class="code-header">pub async fn <a href="#method.await_outgoing_contract_execution" class="fn">await_outgoing_contract_execution</a>(
    &amp;self,
    contract_id: ContractId,
    rng: impl <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.RngCore.html" title="trait rand_core::RngCore">RngCore</a> + <a class="trait" href="https://rust-random.github.io/rand/rand_core/trait.CryptoRng.html" title="trait rand_core::CryptoRng">CryptoRng</a>
) -&gt; <a class="type" href="type.Result.html" title="type fedimint_client_legacy::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Notify gateway that we’ve escrowed notes they can claim by routing our
payment and wait for them to do so</p>
</div></details></div></details></div></section></div></main></body></html>